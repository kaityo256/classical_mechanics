# 数学的準備

解析力学を学ぶ前に、必要な数学的準備を済ませよう。解析力学は美しい学問だが、その美しさを実感するためにはある程度の「腕力」が要求される。以下、かなり当たり前な計算を延々と実行するが、面倒くさがらずについてきて欲しい。

## ベクトルとスカラー

## 微分と偏微分

### 微分の復習

なめらかな関数$f(x)$があるとする。この関数の$x$まわりのテイラー展開は

$$
f(x + h) = f(x) + \frac{df}{dx} h + O(h^2)
$$

である。これを使って、微分の公式を導いておこう。

まず、2つの関数$f(x), g(x)$の積の微分は

$$
\begin{aligned}
\frac{d}{dx}fg &= \lim_{h\rightarrow 0} \frac{f(x+h)g(x+h) - f(x)g(x)}{h}
\end{aligned}
$$

### 微分の表記方法

微分の記法にはいくつか方法がある。

関数$f(x)$の$x$による導関数は

$$
\frac{d}{dx} f(x), \frac{d f(x)}{dx}, \frac{df}{dx}
$$

などと分数の形で表記する。この表記を **ライプニッツ記法(Leibniz's notation)** と呼ぶ[^leibniz]。

[^leibniz]: ゴッドフリート・ライプニッツ(Gottfried Wilhelm Leibniz, 1646-1716)に因む。積分記号なども彼の発明である。

ライプニッツ記法では、何を何で微分したかが明記されているため混乱が少ないが、式が複雑であるときに煩わしいことがある。そこで、本講義では適宜、別の記法も用いることにする。

まず関数$f(x)$を見ると、$f$という値が$x$という引数に依存していることがわかる。したがって、$f(x)$を微分しようとしたら$x$に決まっているので、以下のようにプライム記号で表記する。

$$
f'(x) \equiv \frac{df}{dx}
$$

二階微分や三階微分は

$$
\begin{aligned}
f''(x) &\equiv \frac{d^2f}{dx^2}\\
f'''(x) &\equiv \frac{d^3f}{dx^3}\\
\end{aligned}
$$

とプライム記号を増やして表記する。このような表記を **ラグランジュ記法(Lagrange's notation)** と呼ぶ[^lagrange]。

[^lagrange]: ジョセフ＝ルイ・ラグランジュ(Joseph-Louis Lagrange, 1736-1813)に因む。解析力学の創始者の一人である。

それ以上の高階微分や、$n$階微分など微分回数が変数である場合は

$$
\begin{aligned}
f^{(4)}(x) &\equiv \frac{d^4 f}{dx^4}\\
f^{(n)}(x) &\equiv \frac{d^n f}{dx^n}
\end{aligned}
$$

などと表記するが、力学においてはほとんど高階微分は出てこないので気にしなくて良い。なお、扱う記号はプライム「'」であるが、$f'(x)$を「エフダッシュエックス」と呼ぶことがある(余談参照)。

さて、力学は物体の運動、すなわち時間変化を追う学問である。したがって、時間微分が頻出する。そこで、時間微分をドットで表記することにする。二階微分は二重ドットで表記する。

$$
\begin{aligned}
\dot{x} &\equiv \frac{dx}{dt} \\
\ddot{x} &\equiv \frac{d^2x}{dt^2}
\end{aligned}
$$

これを **ニュートン記法(Newton's notation)** と呼ぶ。[^newton]
高階数微分ではドットの上に数を書く表記もあるが、ほとんどの場合において二階微分までしか扱わないため、二重ドット表記まで覚えれば良い。

[^newton]: アイザック・ニュートン(1642–1727)に因む。ニュートン力学を構築した。微積分の研究、万有引力の法則や、光学の研究でも有名。

これらの表記が複合する場合がある。例えば位置$x$は時間の関数であり、力$f$は位置の関数であるとき、$f(x)$を時間で微分したもののライプニッツ表記は

$$
\frac{df }{dt} = \frac{df}{dx} \frac{dx}{dt}
$$

となる。これをラグランジュ記法とニュートン記法を用いて

$$
\frac{df }{dt} = f'(x) \dot{x}
$$

と表記する場合がある。

いま、三次元空間に質点が2つあり、それぞれの座標が$\vec{r}_1 = (x_1, y_1, z_1)$, $\vec{r}_2 = (x_2, y_2, z_2)$で与えられているとする。この二点の距離$r$は

$$
\begin{aligned}
r &= \sqrt{(\vec{r}_1-\vec{r}_2)^2} \\
  &= \sqrt{(x_1-x_2)^2+(y_1-y_2)^2+(z_1-z_2)^2}
\end{aligned}
$$

で与えられる。いま、2つの質点の間に万有引力の法則が成り立つとすると、質点の間には距離$r$に依存する力$f(r)$が働くことになる。力学の問題を扱う場合、この$f(r)$の時間微分や、$x_1$による微分が現れる。面倒だが、このような計算がすらすらできないと今後の議論に全くついていけなくなるため、ここで真面目に計算しよう。

まず、$f(r)$の時間微分を考える。合成関数の微分により

$$
\frac{df}{dt} = \frac{df}{dr} \frac{dr}{dt} = f'(r) \dot{r}
$$

となる。次は$r$の時間微分だが、$r$は$\vec{r}_1$と$\vec{r}_2$の関数であるから、

$$
\dot{r} = \frac{\partial r}{\partial \vec{r}_1} \dot{\vec{r}_1} + \frac{\partial r}{\partial \vec{r}_2} \dot{\vec{r}_2}
$$

TODO: 続きを書く。

## 座標変換

共変、反変について書く。

## 微分形式

## 余談：ダッシュかプライムか

ラグランジュによる微分記法$f'(x)$を「エフダッシュ」と呼ぶべきか「エフプライム」と呼ぶべきかはよく論争になる。田野村忠温氏による調査では、$a'$を「a dash」と読む最も初期の文献が1823年まで遡ることがわかっている。これは「A Familiar Introduction to　Crystallography」という、英国で出版された出版物である。一方、$a'$を「a prime」と呼ぶ文献では、1832年に米国で出版された代数学の教科書がある(John Radford Young An Elementary Treatise on Algebra, Theoretical and Practical, First American Edition, With Additions and Improvements by Samuel Ward, 1832)。どうやら英国でダッシュ読みが、米国でプライム読みが普及したらしいが、詳細は不明である。

* 参考：[a' の英語における読みの歴史に関する覚書  ─「ダッシュ、プライム」余論─ 田野村忠温](http://www.tanomura.com/research/papers/tanomura_2018_dash_prime_addenda.pdf)
